[Rainmeter]
Update=16
DynamicWindowSize=1
AccurateText=1
BackgroundMode=1
SolidColor=0,0,0,1
; MouseScrollUpAction=[!SetVariable Scale "(#Scale#+0.05)"][!WriteKeyValue Variables Scale "(#Scale#+0.05)"][!Refresh] 
; MouseScrollDownAction=[!SetVariable Scale "(#Scale#-0.05 < 0.2 ? 0.2 : #Scale#-0.05)"][!WriteKeyValue Variables Scale "(#Scale#-0.05 < 0.2 ? 0.2 : #Scale#-0.05)"][!Refresh]

[Metadata]
Name=CPU Meter
Author=Tadeusz
Version=1.0
License=Creative Commons Attribution-Non-Commercial-Share Alike 3.0
Information=Taken and modified https://visualskins.com/skin/sk-neon-meters-fork

[Variables]
@Include=#@#Variables.inc
Scale=1
GraphSize=64
TextOffset=8
DividerXPos=96
GraphOffset=8

; Measures
[MeasureCPUCount]
Measure=Registry
RegHKey=HKEY_LOCAL_MACHINE
RegKey=SYSTEM\CurrentControlSet\Control\Session Manager\Environment
RegValue=NUMBER_OF_PROCESSORS
RegExpSubstitute=1
UpdateDivider=-1

[MeasureCPU]
Measure=CPU
UpdateDivider=5

; Draws
[MeterOutlineBox]
Meter=Shape
Shape=Rectangle ((#DividerXPos#+#GraphOffset#)*#Scale#),1,(#GraphSize#*#Scale#),(#GraphSize#*#Scale#) | Fill Color 0,0,0,0 | StrokeWidth 1 | Stroke Color #PrimaryColor#
DynamicVariables=1

[MeterGraphLineBox]
Meter=Line
MeasureName=MeasureCPU
X=((#DividerXPos#+#GraphOffset#)*#Scale#)
Y=1
H=(#GraphSize#*#Scale#)
W=(#GraphSize#*#Scale#)
LineCount=1
LineColorGraphOffset=8=#PrimaryColor#
SolidColoGraphOffset=8r=#BackgroundCOlor#
AntiAlias=1
LineWidth=2
GraphOrientation=Vertical

[MeterHistogramBox]
Meter=Histogram
MeasureName=MeasureCPU
X=((#DividerXPos#+#GraphOffset#)*#Scale#)
Y=1
H=(#GraphSize#*#Scale#)
W=(#GraphSize#*#Scale#)
PrimaryColor=#PrimaryColor#,60
AntiAliasGraphOffset=8=1
GraphOrieGraphOffset=8ntation=Vertical

[MeterLabelBox]
Meter=String
StringAlign=RightBottom
StringCase=Upper
FontFace=#PrimaryFontFace#
FontColor=#PrimaryColor#
FontSize=(16*#Scale#)
X=(#DividerXPos#*#Scale#)
Y=((#GraphSize#+#TextOffset#)*#Scale#)
Text="CPU"
AntiAlias=1
GraphOffset=8
[MeterDataTextBox]
Meter=String
MeasureName=MeasureCPU
MeasureName2=MeasureCPUCount
StringAlign=Right
FontFace=#PrimaryFontFace#
FontColor=#PrimaryColor#
FontSize=(11*#Scale#)
X=(#DividerXPos#*#Scale#)
Y=(0*#Scale#)
NumOfDecimals=0
Text="%1% #CRLF# %2 core"
AntiAlias=1